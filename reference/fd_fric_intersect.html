<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Intersection between convex hulls of pairs of sites — fd_fric_intersect • fundiversity</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Intersection between convex hulls of pairs of sites — fd_fric_intersect"><meta name="description" content="Compute volume of the intersection of the convex hulls of all pairs
of sites (including self-intersection, which corresponds to their convex
hull). Note that when standardizing convex hulls of intersections,
this function uses the convex hull of all provided traits,
thus standardized volume of self-intersection hulls can be lower than one.
NB: FRic_intersect is equal to NA when there are strictly less species in
one of the sites than the number of provided traits."><meta property="og:description" content="Compute volume of the intersection of the convex hulls of all pairs
of sites (including self-intersection, which corresponds to their convex
hull). Note that when standardizing convex hulls of intersections,
this function uses the convex hull of all provided traits,
thus standardized volume of self-intersection hulls can be lower than one.
NB: FRic_intersect is equal to NA when there are strictly less species in
one of the sites than the number of provided traits."><meta property="og:image" content="https://funecology.github.io/fundiversity/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fundiversity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/fundiversity.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/fundiversity_1-parallel.html">2. Parallelize Computation of Indices</a></li>
    <li><a class="dropdown-item" href="../articles/fundiversity_2-performance.html">3. Performance Benchmark with other packages</a></li>
    <li><a class="dropdown-item" href="../articles/fundiversity_3-correctness.html">4. Check Numerical Correctness of Indices</a></li>
    <li><a class="dropdown-item" href="../articles/fundiversity_4-design-principles.html">5. Design Principles for fundiversity</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/funecology/fundiversity/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Intersection between convex hulls of pairs of sites</h1>
      <small class="dont-index">Source: <a href="https://github.com/funecology/fundiversity/blob/main/R/fd_fric_intersect.R" class="external-link"><code>R/fd_fric_intersect.R</code></a></small>
      <div class="d-none name"><code>fd_fric_intersect.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute volume of the intersection of the convex hulls of all pairs
of sites (including self-intersection, which corresponds to their convex
hull). Note that when standardizing convex hulls of intersections,
this function uses the convex hull of all provided traits,
thus standardized volume of self-intersection hulls can be lower than one.
NB: FRic_intersect is equal to <code>NA</code> when there are strictly less species in
one of the sites than the number of provided traits.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fd_fric_intersect</span><span class="op">(</span><span class="va">traits</span>, <span class="va">sp_com</span>, stand <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-traits">traits<a class="anchor" aria-label="anchor" href="#arg-traits"></a></dt>
<dd><p>Trait matrix with species as rows and traits as columns.
It has to contain exclusively numerical values. This can be
either a <code>matrix</code>, a <code>data.frame</code>, or a <code><a href="https://rdrr.io/pkg/Matrix/man/Matrix.html" class="external-link">Matrix::Matrix()</a></code>
object.</p></dd>


<dt id="arg-sp-com">sp_com<a class="anchor" aria-label="anchor" href="#arg-sp-com"></a></dt>
<dd><p>Site-species matrix with sites as rows and species as columns
if not provided, the function considers all species with equal
abundance in a single site. This can be either a <code>matrix</code>,
a <code>data.frame</code>, or a <code><a href="https://rdrr.io/pkg/Matrix/man/Matrix.html" class="external-link">Matrix::Matrix()</a></code> object.</p></dd>


<dt id="arg-stand">stand<a class="anchor" aria-label="anchor" href="#arg-stand"></a></dt>
<dd><p>a boolean indicating whether to standardize FRic values over
the observed maximum over all species (default: <code>FALSE</code>).
This scales FRic between 0 and 1.
<strong>NB</strong>: The maximum FRic values only considers species that are
present in <strong>both</strong> site-species and trait matrices.
If you want to consider species that are absent
in the site-species matrix, add corresponding columns of 0s.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a data.frame with three columns:</p><ul><li><p><code>first_site</code> the names of the first site used in the pair <code>sp_com</code>,</p></li>
<li><p><code>second_site</code> the names of the first site used in the pair,</p></li>
<li><p><code>FRic_intersect</code> the volume of the convex hulls intersection of each
pair of site.</p></li>
</ul><p>If the <code>sp_com</code> argument is not provided or if <code>sp_com</code> doesn't have rownames,
arbitrary rownames <code>s1</code>, <code>s2</code>, <code>s3</code>, etc. will be used.</p>
<p>NB: FRic_intersect is equal to <code>NA</code> when there are strictly less species in
one of the sites than the number of provided traits. Note that only species
with strictly different trait combinations are considered unique, species
that share the exact same trait values across all traits are considered as
one species.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>By default, when loading <span class="pkg">fundiversity</span>, the functions to
compute convex hulls are
<a href="https://en.wikipedia.org/wiki/Memoization" class="external-link">memoised</a> through the <code>memoise</code>
package if it is installed (their results are cached to avoid recomputing the
same functional volume twice). To deactivate this behavior you can set the
option <code>fundiversity.memoise</code> to <code>FALSE</code> by running the following line:
<code>options(fundiversity.memoise = FALSE)</code>. If you use it interactively it will
only affect your current session. Add it to your script(s) or <code>.Rprofile</code>
file to avoid toggling it each time. By changing the option, the behavior
will automatically change the next time you run the function. <strong>Note</strong>:
memoisation is only available when the <code>memoise</code> package has been installed
<strong>and without parallelization</strong>, otherwise <code>fundiversity</code> will use unmemoised
versions of the functions. In other words, <strong>memoization and parallelization
are mutually exclusive</strong>.</p>
    </div>
    <div class="section level2">
    <h2 id="parallelization">Parallelization<a class="anchor" aria-label="anchor" href="#parallelization"></a></h2>


<p>The computation of this function can be parallelized thanks to
<code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code>. To get more information on how to parallelize your
computation please refer to the parallelization vignette with:
<code><a href="../articles/fundiversity_1-parallel.html">vignette("fundiversity_1-parallel", package = "fundiversity")</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Villéger S., Grenouillet G., Brosse S. (2013), Decomposing functional
\(\beta\)-diversity reveals that low functional
\(\beta\)-diversity is driven by low functional turnover in European
fish assemblages, Global Ecology and Biogeography, 22(6), 671–681.
<a href="https://doi.org/10.1111/geb.12021" class="external-link">doi:10.1111/geb.12021</a>
.</p>
<p>Zhao T., Villéger S., Cucherousset J. (2019). Accounting for intraspecific
diversity when examining relationships between non-native species and
functional diversity. Oecologia, 189(1), 171-183.
<a href="https://doi.org/10.1007/s00442-018-4311-3" class="external-link">doi:10.1007/s00442-018-4311-3</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="fd_fric.html">fd_fric()</a></code>, <code><a href="https://rdrr.io/pkg/geometry/man/intersectn.html" class="external-link">geometry::intersectn()</a></code>, <code><a href="https://rdrr.io/pkg/geometry/man/convhulln.html" class="external-link">geometry::convhulln()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">traits_birds</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">fd_fric_intersect</span><span class="op">(</span><span class="va">traits_birds</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   first_site second_site FRic_intersect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         s1          s1       230967.7</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://rekyt.github.io/" class="external-link">Matthias Grenié</a>, <a href="https://hugogruson.fr/" class="external-link">Hugo Gruson</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

